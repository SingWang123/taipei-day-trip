<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Index</title>
  <link href="styles/style.css" rel="stylesheet" type="text/css">
</head>

<body class = "body">
  <!--navigation bar-->
  <div class = "navbar">
    <div class = "navbar__content">
      <div class = "navbar__webtitle">
        台北一日遊
      </div>
      <div class = "navbar__buttons">
        <div class = "navbar__buttons_button">
          預定行程
        </div>
        <div class = "navbar__buttons_button">
          登入/註冊
        </div>
      </div>
    </div>
  </div>
  <!--banner-->
  <div class = "banner">
    <div class = "banner__content">
      <div class = "banner__content_title">
        輕鬆享受台北一日悠閒
      </div>
      <div class = "banner__content_info">
        探索每個角落，體驗城市的深度旅遊行程
      </div>
      <form action = "" method = "get" id = "search">
        <div class = "banner__content_search">
            <input placeholder = "輸入景點名稱查詢" class = "banner__search_input">
            <div class = "banner__search_button">
              <img src = "images/search.png" class = "banner__search_button_img">
            </div>
        </div>
      </form>
    </div>
  </div>
  <!--mrts-->
  <div class = "mrts">
    <div class = "mrts__button--left"></div>
    <div class = "mrts__list">
      <div class = "mrts__list_mrt">
        劍潭
      </div>
      <div class = "mrts__list_mrt">
        劍潭
      </div>
      <div class = "mrts__list_mrt">
        劍潭
      </div>
      <div class = "mrts__list_mrt">
        劍潭
      </div>
      <div class = "mrts__list_mrt">
        劍潭
      </div>
      <div class = "mrts__list_mrt">
        台北車站
      </div>
      <div class = "mrts__list_mrt">
        劍潭
      </div>
      <div class = "mrts__list_mrt">
        劍潭
      </div>
      <div class = "mrts__list_mrt">
        台北車站
      </div>
      <div class = "mrts__list_mrt">
        台北車站
      </div>
      <div class = "mrts__list_mrt">
        台北車站
      </div>
      <div class = "mrts__list_mrt">
        台北車站
      </div>
      <div class = "mrts__list_mrt">
        台北車站
      </div>
      <div class = "mrts__list_mrt">
        台北車站
      </div>
      <div class = "mrts__list_mrt">
        台北車站
      </div>
    </div>
    <div class = "mrts__button--right"></div>
  </div>
  <!--main-->
  <div class = "main">
    <!--留一組參考用
    <div class = "main__card">
      <img class = "main__card_img" src = "images/[desktop] hero section.png">
      <div class = "main__card_name">
        平安鐘
      </div>
      <div class = "main__card_buttom">
        <div class = "main__card_mrt">忠孝復興</div>
        <div class = "main__card_category">忠孝復興</div>
      </div>
    </div>
    -->
  </div>
  <footer class = "footer">
    <div class = "footer__word">
      COPYRIGHT © 2021 台北一日遊
    </div>
  </footer>
</body>

<script>

// 抓main的景點圖並塞入
let attractionData = [];

fetch("http://54.168.177.59:8000/api/attractions?page=0")
.then(function(response){
  return response.json();
})
.then(function(data){
for (i = 0; i < data.data.length; i++){
  attractionData.push({
    "name" : data.data[i].name,
    "mrt" : data.data[i].mrt,
    "category" : data.data[i].category,
    "img" : data.data[i].images[0]
  })
}

// 將景點資料塞進去Html中
for (i = 0; i < attractionData.length; i++){
  //創出卡片
  let mainList = document.getElementsByClassName("main");

  let mainCard = document.createElement("div");
  mainCard.className = "main__card";

  let mainCardImg = document.createElement("img");
  mainCardImg.className = "main__card_img";
  mainCardImg.src = attractionData[i].img;

  let mainCardName = document.createElement("div");
  mainCardName.className = "main__card_name";
  let cardName = document.createTextNode(attractionData[i].name);
  mainCardName.appendChild(cardName);

  let mainCardButtom = document.createElement("div");
  mainCardButtom.className = "main__card_buttom";

  let mainCardMrt = document.createElement("div");
  mainCardMrt.className = "main__card_mrt";
  let cardMrt = document.createTextNode(attractionData[i].mrt);
  mainCardMrt.appendChild(cardMrt);

  let mainCardCategory = document.createElement("div");
  mainCardCategory.className = "main__card_category";
  let cardCategory = document.createTextNode(attractionData[i].category);
  mainCardCategory.appendChild(cardCategory);

  //開始組裝
  mainCardButtom.appendChild(mainCardMrt);
  mainCardButtom.appendChild(mainCardCategory);
  mainCard.appendChild(mainCardImg);
  mainCard.appendChild(mainCardName);
  mainCard.appendChild(mainCardButtom);

  mainList[0].appendChild(mainCard);
}
})


</script>
</html>